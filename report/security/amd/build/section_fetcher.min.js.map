{"version":3,"sources":["../src/section_fetcher.js"],"names":["init","info","request","methodname","args","section","Ajax","call","done","data","console","log","Templates","render","html","js","document","getElementById","sectionid","outerHTML","runTemplateJS","fail","Notification","exception"],"mappings":"qMAuBA,OACA,OACA,O,mDAEO,GAAMA,CAAAA,CAAI,CAAG,UAAM,CACtB,GAAIC,CAAAA,CAAI,CAAG,EAAX,CAKAA,CAAI,CAAG,CAAC,UAAa,CAAd,CAAP,CAEA,GAAMC,CAAAA,CAAO,CAAG,CACZC,UAAU,CAAE,wCADA,CAEZC,IAAI,CAAE,CAACC,OAAO,CAAEJ,CAAV,CAFM,CAAhB,CAKAK,UAAKC,IAAL,CAAU,CAACL,CAAD,CAAV,EAAqB,CAArB,EAAwBM,IAAxB,CAA6B,SAASC,CAAT,CAAe,CACxCC,OAAO,CAACC,GAAR,CAAYF,CAAZ,EACAG,UAAUC,MAAV,CAAiB,iDAAjB,CAAoEJ,CAApE,EAA0ED,IAA1E,CAA+E,SAAUM,CAAV,CAAgBC,CAAhB,CAAoB,CAE/FC,QAAQ,CAACC,cAAT,2BAA2CR,CAAI,CAACS,SAAhD,GAA6DC,SAA7D,CAAyEL,CAAzE,CACAF,UAAUQ,aAAV,CAAwBL,CAAxB,CAEH,CALD,EAKGM,IALH,CAKQC,UAAaC,SALrB,CAMH,CARD,EAQGF,IARH,CAQQC,UAAaC,SARrB,CAWH,CAxBM,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module responsible for fetching the security report sections.\n *\n * @package report_security\n * @copyright 2019 Michael Hawkins <michaelh@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Ajax from 'core/ajax';\nimport Templates from 'core/templates';\nimport Notification from 'core/notification';\n\nexport const init = () => {\n    var info = [];\n    //TODO: Have this setting for all of the sections to be called.\n    //See push in relateCompetenciesHandler in /admin/tool/lp/amd/src/competencyactions.js\n    //info = [{'sectionid': 1}];\n\n    info = {'sectionid': 2};\n\n    const request = {\n        methodname: 'report_security_prepare_report_section',\n        args: {section: info}\n    };\n\n    Ajax.call([request])[0].done(function(data) {\n        console.log(data);\n        Templates.render('report_security/security_report_section_results', data).done(function (html, js) {\n\n            document.getElementById(`security_report_${data.sectionid}`).outerHTML = html;\n            Templates.runTemplateJS(js);\n\n        }).fail(Notification.exception);\n    }).fail(Notification.exception);\n\n   // return false;\n};\n"],"file":"section_fetcher.min.js"}