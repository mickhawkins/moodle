{"version":3,"sources":["../src/section_handlers.js"],"names":["fetchsections","forEach","sectionid","Ajax","call","methodname","args","done","data","Templates","render","html","js","document","getElementById","outerHTML","runTemplateJS","fail","Notification","exception","tableevents","onclick","classList","toggle"],"mappings":"6NAuBA,OACA,OACA,O,mEAE6B,QAAhBA,CAAAA,aAAgB,EAAM,CAOd,CAAC,CAAD,CAAI,CAAJ,CAAO,CAAP,CAAU,CAAV,CAEjB,CAASC,OAAT,CAAiB,SAASC,CAAT,CAAoB,CAMjCC,UAAKC,IAAL,CAAU,CALM,CACZC,UAAU,CAAE,wCADA,CAEZC,IAAI,CAAE,CAACJ,SAAS,CAAEA,CAAZ,CAFM,CAKN,CAAV,EAAqB,CAArB,EAAwBK,IAAxB,CAA6B,SAASC,CAAT,CAAe,CACxCC,UAAUC,MAAV,CAAiB,iDAAjB,CAAoEF,CAApE,EAA0ED,IAA1E,CAA+E,SAAUI,CAAV,CAAgBC,CAAhB,CAAoB,CAE/FC,QAAQ,CAACC,cAAT,2BAA2CN,CAAI,CAACN,SAAhD,GAA6Da,SAA7D,CAAyEJ,CAAzE,CACAF,UAAUO,aAAV,CAAwBJ,CAAxB,CAEH,CALD,EAKGK,IALH,CAKQC,UAAaC,SALrB,CAMH,CAPD,EAOGF,IAPH,CAOQC,UAAaC,SAPrB,CAQH,CAdD,CAeH,C,eAE0B,QAAdC,CAAAA,WAAc,CAAClB,CAAD,CAAe,CACtCW,QAAQ,CAACC,cAAT,8BAA8CZ,CAA9C,GAA2DmB,OAA3D,CAAqE,UAAM,CACvER,QAAQ,CAACC,cAAT,8BAA8CZ,CAA9C,cAAmEoB,SAAnE,CAA6EC,MAA7E,CAAoF,QAApF,EACAV,QAAQ,CAACC,cAAT,8BAA8CZ,CAA9C,cAAmEoB,SAAnE,CAA6EC,MAA7E,CAAoF,QAApF,CACH,CACJ,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module responsible for fetching the security report sections.\n *\n * @package report_security\n * @copyright 2019 Michael Hawkins <michaelh@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Ajax from 'core/ajax';\nimport Templates from 'core/templates';\nimport Notification from 'core/notification';\n\nexport const fetchsections = () => {\n\n    //TODO: Have this setting for all of the sections to be called.\n    //See push in relateCompetenciesHandler in /admin/tool/lp/amd/src/competencyactions.js\n    //info = [{'sectionid': 1}];\n    //\n//todo: outside access is not returning anything\n    const sections = [0, 1, 2, 3];\n\n    sections.forEach(function(sectionid) {\n        const request = {\n            methodname: 'report_security_prepare_report_section',\n            args: {sectionid: sectionid}\n        };\n\n        Ajax.call([request])[0].done(function(data) {\n            Templates.render('report_security/security_report_section_results', data).done(function (html, js) {\n\n                document.getElementById(`security_report_${data.sectionid}`).outerHTML = html;\n                Templates.runTemplateJS(js);\n\n            }).fail(Notification.exception);\n        }).fail(Notification.exception);\n    });\n};\n\nexport const tableevents = (sectionid) => {\n    document.getElementById(`togglepassedsection${sectionid}`).onclick = () => {\n        document.getElementById(`togglepassedsection${sectionid}showtext`).classList.toggle('hidden');\n        document.getElementById(`togglepassedsection${sectionid}hidetext`).classList.toggle('hidden');\n    };\n};"],"file":"section_handlers.min.js"}